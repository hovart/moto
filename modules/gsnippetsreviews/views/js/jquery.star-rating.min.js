/*
 * 2003-2017 Business Tech
 *
 *  @author    Business Tech SARL <http://www.businesstech.fr/en/contact-us>
 *  @copyright 2003-2017 Business Tech SARL
 */
//if(window.jQuery)(function(e){if(e.browser.msie)try{document.execCommand("BackgroundImageCache",false,true)}catch(t){}e.fn.rating=function(t){var n={ratingField:null,starGif:"star.gif",split:0,starWidth:5,half:false,readOnly:false};if(this.length==0)return this;if(typeof arguments[0]=="string"){if(this.length>1){var r=arguments;return this.each(function(){e.fn.rating.apply(e(this),r)})}e.fn.rating[arguments[0]].apply(this,e.makeArray(arguments).slice(1)||[]);return this}e.fn.rating.opts=e.extend(n,t);e.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var t,n=e(this);var r=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var i=e(this.form||document.body);var s=i.data("rating");if(!s||s.call!=e.fn.rating.calls)s={count:0,call:e.fn.rating.calls};var o=s[r];if(o)t=o.data("rating");if(o&&t){t.count++}else{t=e.extend(e.fn.rating.opts,(e.metadata?n.metadata():e.meta?n.data():null)||{},{count:0,stars:[],inputs:[]});t.serial=s.count++;o=e('<span class="star-rating-control"/>');n.before(o);o.addClass("rating-to-be-drawn");if(n.attr("disabled")||n.hasClass("disabled"))t.readOnly=true;if(n.hasClass("required"))t.required=true;o.append(t.cancel=e("").mouseover(function(){e(this).rating("drain");e(this).addClass("star-rating-hover")}).mouseout(function(){e(this).rating("draw");e(this).removeClass("star-rating-hover")}).click(function(){e(this).rating("select")}).data("rating",t))}var u=e('<div class="star-rating rater-'+t.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");o.append(u);e(".star-rating a").css({"background-image":"url("+e.fn.rating.opts.starGif+")","background-repeat":"no-repeat","background-position":"0 0px"});if(this.id)u.attr("id",this.id);if(this.className)u.addClass(this.className);if(t.half)t.split=2;if(typeof t.split=="number"&&t.split>0){var a=(e.fn.width?u.width():0)||t.starWidth;var f=t.count%t.split,l=Math.floor(a/t.split);u.width(l).find("a").css({"margin-left":"-"+f*l+"px"})}if(t.readOnly){u.addClass("star-rating-readonly")}else{u.addClass("star-rating-live").mouseover(function(){e(this).rating("fill");e(this).rating("focus")}).mouseout(function(){e(this).rating("draw");e(this).rating("blur")}).click(function(){e(this).rating("select")})}if(this.checked)t.current=u;if(this.nodeName=="A"){if(e(this).hasClass("selected"))t.current=u}n.hide();n.change(function(){e(this).rating("select")});u.data("rating.input",n.data("rating.star",u));t.stars[t.stars.length]=u[0];t.inputs[t.inputs.length]=n[0];t.rater=s[r]=o;t.context=i;n.data("rating",t);o.data("rating",t);u.data("rating",t);i.data("rating",s)});e(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};e.extend(e.fn.rating,{calls:0,focus:function(){var t=this.data("rating");if(!t)return this;if(!t.focus)return this;var n=e(this).data("rating.input")||e(this.tagName=="INPUT"?this:null);if(t.focus)t.focus.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},blur:function(){var t=this.data("rating");if(!t)return this;if(!t.blur)return this;var n=e(this).data("rating.input")||e(this.tagName=="INPUT"?this:null);if(t.blur)t.blur.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},fill:function(){var e=this.data("rating");if(!e)return this;if(e.readOnly)return;this.rating("drain");this.prevAll().andSelf().filter(".rater-"+e.serial).addClass("star-rating-hover")},drain:function(){var e=this.data("rating");if(!e)return this;if(e.readOnly)return;e.rater.children().filter(".rater-"+e.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var t=this.data("rating");if(!t)return this;this.rating("drain");if(t.current){t.current.data("rating.input").attr("checked","checked");t.current.prevAll().andSelf().filter(".rater-"+t.serial).addClass("star-rating-on")}else e(t.inputs).removeAttr("checked");this.siblings()[t.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(t,n){var r=this.data("rating");if(!r)return this;if(r.readOnly)return;r.current=null;if(typeof t!="undefined"){if(typeof t=="number")return e(r.stars[t]).rating("select",undefined,n);if(typeof t=="string")e.each(r.stars,function(){if(e(this).data("rating.input").val()==t)e(this).rating("select",undefined,n)})}else{r.current=this[0].tagName=="INPUT"?this.data("rating.star"):this.is(".rater-"+r.serial)?this:null}this.data("rating",r);this.rating("draw");var i=e(r.current?r.current.data("rating.input"):null);if(e.fn.rating.opts.ratingField!=null){e('input[name*="'+e.fn.rating.opts.ratingField+'"]').each(function(t){e(this).val(i.val())})}if((n||n==undefined)&&r.callback)r.callback.apply(i[0],[i.val(),e("a",r.current)[0]])},readOnly:function(t,n){var r=this.data("rating");if(!r)return this;r.readOnly=t||t==undefined?true:false;if(n)e(r.inputs).attr("disabled","disabled");else e(r.inputs).removeAttr("disabled");this.data("rating",r);this.rating("draw")},disable:function(){this.rating("readOnly",true,true)},enable:function(){this.rating("readOnly",false,false)}});e(function(){})})(jQuery);
if(window.jQuery)(function(e){e.fn.rating=function(t){var n={ratingField:null,starGif:"star.gif",split:0,starWidth:5,half:false,readOnly:false};if(this.length==0)return this;if(typeof arguments[0]=="string"){if(this.length>1){var r=arguments;return this.each(function(){e.fn.rating.apply(e(this),r)})}e.fn.rating[arguments[0]].apply(this,e.makeArray(arguments).slice(1)||[]);return this}e.fn.rating.opts=e.extend(n,t);e.fn.rating.calls++;this.not(".star-rating-applied").addClass("star-rating-applied").each(function(){var t,n=e(this);var r=(this.name||"unnamed-rating").replace(/\[|\]/g,"_").replace(/^\_+|\_+$/g,"");var i=e(this.form||document.body);var s=i.data("rating");if(!s||s.call!=e.fn.rating.calls)s={count:0,call:e.fn.rating.calls};var o=s[r];if(o)t=o.data("rating");if(o&&t){t.count++}else{t=e.extend(e.fn.rating.opts,(e.metadata?n.metadata():e.meta?n.data():null)||{},{count:0,stars:[],inputs:[]});t.serial=s.count++;o=e('<span class="star-rating-control"/>');n.before(o);o.addClass("rating-to-be-drawn");if(n.attr("disabled")||n.hasClass("disabled"))t.readOnly=true;if(n.hasClass("required"))t.required=true;o.append(t.cancel=e("").mouseover(function(){e(this).rating("drain");e(this).addClass("star-rating-hover")}).mouseout(function(){e(this).rating("draw");e(this).removeClass("star-rating-hover")}).click(function(){e(this).rating("select")}).data("rating",t))}var u=e('<div class="star-rating rater-'+t.serial+'"><a title="'+(this.title||this.value)+'">'+this.value+"</a></div>");o.append(u);e(".star-rating a").css({"background-image":"url("+e.fn.rating.opts.starGif+")","background-repeat":"no-repeat","background-position":"0 0px"});if(this.id)u.attr("id",this.id);if(this.className)u.addClass(this.className);if(t.half)t.split=2;if(typeof t.split=="number"&&t.split>0){var a=(e.fn.width?u.width():0)||t.starWidth;var f=t.count%t.split,l=Math.floor(a/t.split);u.width(l).find("a").css({"margin-left":"-"+f*l+"px"})}if(t.readOnly){u.addClass("star-rating-readonly")}else{u.addClass("star-rating-live").mouseover(function(){e(this).rating("fill");e(this).rating("focus")}).mouseout(function(){e(this).rating("draw");e(this).rating("blur")}).click(function(){e(this).rating("select")})}if(this.checked)t.current=u;if(this.nodeName=="A"){if(e(this).hasClass("selected"))t.current=u}n.hide();n.change(function(){e(this).rating("select")});u.data("rating.input",n.data("rating.star",u));t.stars[t.stars.length]=u[0];t.inputs[t.inputs.length]=n[0];t.rater=s[r]=o;t.context=i;n.data("rating",t);o.data("rating",t);u.data("rating",t);i.data("rating",s)});e(".rating-to-be-drawn").rating("draw").removeClass("rating-to-be-drawn");return this};e.extend(e.fn.rating,{calls:0,focus:function(){var t=this.data("rating");if(!t)return this;if(!t.focus)return this;var n=e(this).data("rating.input")||e(this.tagName=="INPUT"?this:null);if(t.focus)t.focus.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},blur:function(){var t=this.data("rating");if(!t)return this;if(!t.blur)return this;var n=e(this).data("rating.input")||e(this.tagName=="INPUT"?this:null);if(t.blur)t.blur.apply(n[0],[n.val(),e("a",n.data("rating.star"))[0]])},fill:function(){var e=this.data("rating");if(!e)return this;if(e.readOnly)return;this.rating("drain");this.prevAll().andSelf().filter(".rater-"+e.serial).addClass("star-rating-hover")},drain:function(){var e=this.data("rating");if(!e)return this;if(e.readOnly)return;e.rater.children().filter(".rater-"+e.serial).removeClass("star-rating-on").removeClass("star-rating-hover")},draw:function(){var t=this.data("rating");if(!t)return this;this.rating("drain");if(t.current){t.current.data("rating.input").attr("checked","checked");t.current.prevAll().andSelf().filter(".rater-"+t.serial).addClass("star-rating-on")}else e(t.inputs).removeAttr("checked");this.siblings()[t.readOnly?"addClass":"removeClass"]("star-rating-readonly")},select:function(t,n){var r=this.data("rating");if(!r)return this;if(r.readOnly)return;r.current=null;if(typeof t!="undefined"){if(typeof t=="number")return e(r.stars[t]).rating("select",undefined,n);if(typeof t=="string")e.each(r.stars,function(){if(e(this).data("rating.input").val()==t)e(this).rating("select",undefined,n)})}else{r.current=this[0].tagName=="INPUT"?this.data("rating.star"):this.is(".rater-"+r.serial)?this:null}this.data("rating",r);this.rating("draw");var i=e(r.current?r.current.data("rating.input"):null);if(e.fn.rating.opts.ratingField!=null){e('input[name*="'+e.fn.rating.opts.ratingField+'"]').each(function(t){e(this).val(i.val())})}if((n||n==undefined)&&r.callback)r.callback.apply(i[0],[i.val(),e("a",r.current)[0]])},readOnly:function(t,n){var r=this.data("rating");if(!r)return this;r.readOnly=t||t==undefined?true:false;if(n)e(r.inputs).attr("disabled","disabled");else e(r.inputs).removeAttr("disabled");this.data("rating",r);this.rating("draw")},disable:function(){this.rating("readOnly",true,true)},enable:function(){this.rating("readOnly",false,false)}});e(function(){})})(jQuery);